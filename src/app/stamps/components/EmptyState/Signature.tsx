import { motion, MotionProps } from 'framer-motion';
import { useMemo } from 'react';

const defaultPathProps: Partial<MotionProps> = {
  variants: {
    initial: { pathLength: 0, opacity: 0 },
    animate: { pathLength: 1, opacity: 1 },
  },
  transition: { duration: 0.25, opacity: { duration: 0 }, ease: 'easeIn' },
};

const defaultGroupProps: Partial<MotionProps> = {
  variants: {
    initial: { pathLength: 0, opacity: 0 },
    animate: (custom: number = 1) => ({
      pathLength: 1,
      opacity: 1,
      transition: {
        staggerChildren: 0.15 * custom,
      },
    }),
  },
  initial: 'initial',
};

export default function Signature({
  className,
  animate,
  shouldAnimate,
  pathProps: overridePathProps,
  groupProps: overrideGroupProps,
}: {
  className?: string;
  animate?: boolean;
  shouldAnimate?: boolean;
  pathProps?: MotionProps;
  groupProps?: MotionProps;
}) {
  const groupProps = useMemo(
    () => ({
      ...defaultGroupProps,
      animate: shouldAnimate ? (animate ? 'animate' : 'initial') : 'animate',
      custom: shouldAnimate ? 1 : 0,
      ...overrideGroupProps,
    }),
    [animate, overrideGroupProps, shouldAnimate],
  );

  const pathProps = useMemo(
    () => ({
      ...defaultPathProps,
      transition: {
        duration: shouldAnimate ? (animate ? 0.25 : 0) : 0,
      },
      ...overridePathProps,
    }),
    [overridePathProps, animate, shouldAnimate],
  );

  return (
    <motion.svg
      className={className}
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 486 127"
    >
      <motion.g
        stroke="currentColor"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeMiterlimit="10"
        strokeWidth="1.5"
        {...groupProps}
      >
        {/* select */}
        <motion.path
          d="M86.8917 49.4259C84.574 47.7098 82.4665 49.8371 83.2742 52.5439C84.0282 55.0725 91.7269 61.799 86.4096 63.8411C85.607 64.1492 83.9581 64.133 83.178 63.7861C80.4514 62.5726 80.5444 59.8748 83.3667 57.8483C86.929 55.2904 99.1712 51.2886 97.7534 48.7728C97.4818 48.2908 96.5504 48.0593 95.0667 48.7804C92.0086 50.2667 89.5458 59.6035 97.0226 57.1572C98.1519 56.7877 98.9138 56.0913 99.2295 55.6871"
          {...pathProps}
        />
        <motion.path
          d="M97.9038 56.579C100.218 55.6218 103.03 52.864 104.678 49.3139C109.188 40.6546 102.732 37.5671 100.559 47.9015C99.9192 50.9423 100.012 54.0622 100.299 56.2055C101.75 67.047 114.298 54.5681 112.3 51.1292C110.035 48.42 103.533 58.2809 111.144 59.9854C114.122 60.6523 116.149 58.2674 116.633 56.979"
          {...pathProps}
        />
        <motion.path
          d="M122.383 52.5757C123.684 51.2949 121.145 50.2947 120.098 50.5717C115.953 51.6692 115.675 57.7774 120.142 58.6243C125.58 59.6552 132.962 50.7315 131.033 42.6019C130.924 38.2144 128.851 61.892 132.526 58.2716"
          {...pathProps}
        />
        <motion.path
          d="M125.55 45.827C126 44.8765 134.091 44.8665 136.321 43.7523"
          {...pathProps}
        />

        {/* a */}
        <motion.path
          d="M153.104 46.169C157.381 43.1465 160.532 49.1455 159.219 52.3005C159.059 52.5754 158.868 51.3885 157.021 50.5917C154.867 49.6625 152.459 50.6159 152.441 53.0489C152.408 57.3833 159.279 54.5739 160.962 53.2845"
          {...pathProps}
        />

        {/* stamp */}
        <motion.path
          d="M181.867 43.7681C181.951 41.8045 179.174 40.8224 178.288 43.2C177.409 46.4877 183.304 58.408 178.654 56.1054C170.171 49.5793 191.628 49.7399 191.255 39.6132C190.91 30.2351 188.364 55.1207 192.279 51.7084"
          {...pathProps}
        />
        <motion.path
          d="M184.011 40.5132C183.724 40.3276 192.482 39.7854 194.699 39.9778"
          {...pathProps}
        />
        <motion.path
          d="M197.36 41.1203C203.356 38.2291 205.516 46.7973 203.81 51.8803C203.369 52.1405 199.005 42.476 196.018 47.5342C192.866 53.4596 202.697 51.9784 205.361 50.4035"
          {...pathProps}
        />
        <motion.path
          d="M207.311 44.3749C207.964 45.4353 208.473 47.0742 208.604 48.2855C208.676 48.9586 208.863 50.9265 209.031 50.2704C209.409 48.8017 208.089 40.9923 210.412 41.2485C213.515 41.5897 215.175 46.9331 214.842 49.8888C214.805 50.2091 214.812 50.5839 214.812 50.5839C214.718 50.1172 214.476 42.4777 216.079 42.0012C219.632 40.946 218.222 51.9266 222.188 51.0732"
          {...pathProps}
        />
        <motion.path
          d="M223.578 40.43C223.045 45.9974 225.995 51.2047 225.673 56.6582C225.374 52.3616 222.476 41.5649 227.932 39.6561C234.915 37.2146 233.22 48.9429 225.559 48.8922"
          {...pathProps}
        />

        {/* to */}
        <motion.path
          d="M109.802 70.3097C113.313 71.1897 110.581 82.6128 112 85.5336C113.223 88.0502 116.283 87.6395 117.185 85.2761"
          {...pathProps}
        />
        <motion.path
          d="M107.025 77.0221C110.793 72.401 126.067 78.4858 124.88 75.9222C122.253 70.251 115.338 86.41 125.391 84.2553C132.387 82.7557 128.886 73.5669 121.431 76.184"
          {...pathProps}
        />

        {/* see */}
        <motion.path
          d="M149.157 75.3221C150.073 72.6396 145.875 68.7742 144.729 72.1303C143.137 76.7898 148.763 81.6468 147.782 86.3691C147.256 88.902 141.906 87.1265 141.184 85.3151C137.773 76.7611 160.641 78.6796 160.933 75.267C161.147 72.726 152.223 72.5036 154.131 79.5182C156.087 84.63 161.502 83.3128 164.708 79.7243"
          {...pathProps}
        />
        <motion.path
          d="M165.342 79.2763C167.536 77.7816 170.985 73.2178 166.706 73.6559C162.036 75.5981 164.174 85.0133 172.005 82.1935"
          {...pathProps}
        />

        {/* the */}
        <motion.path
          d="M185.518 65.1649C189.336 64.7113 181.307 82.6813 187.623 84.1097"
          {...pathProps}
        />
        <motion.path
          d="M181.959 76.0211C181.695 74.7534 197.301 74.667 196.331 67.9773C194.356 61.4138 189.808 78.3557 192.744 81.553C193.316 82.1763 193.5 80.2961 194.369 78.671C195.055 77.1915 196.706 73.8815 198.821 74.1401C201.551 74.4743 200.312 79.6721 202.892 80.9005C206.277 82.5115 211.942 74.951 208.44 74.0348C206.492 73.5253 205.498 76.1558 205.842 77.8333C206.66 81.8209 211.213 82.1173 213.341 79.2248"
          {...pathProps}
        />

        {/* details */}
        <motion.path
          d="M233.636 76.7415C233.636 76.7415 231.697 69.8948 229.522 71.6804C226.402 74.2435 226.411 79.5696 228.227 80.4112C235.327 83.7033 234.28 61.8487 234.28 61.8487C234.091 63.9916 232.014 75.6618 236.03 78.3511C242.106 82.4204 247.238 69.4299 243.119 70.0915C238.775 70.7892 239.5 75.8433 241.05 77.3503C243.599 79.8274 248.479 78.1441 250.74 72.8594"
          {...pathProps}
        />
        <motion.path
          d="M251.352 64.8768C251.349 64.4941 251.222 63.3688 251.345 63.7306C252.129 66.0388 248.147 82.7925 255.916 74.9352"
          {...pathProps}
        />
        <motion.path
          d="M257.144 69.0228C262.197 66.2739 264.694 70.0901 263.785 73.8257C263.622 74.4353 263.705 72.3125 261.199 71.3931C259.658 70.8988 256.801 71.5375 256.917 73.4241C257.179 77.6996 265.549 75.8084 267.683 72.8629"
          {...pathProps}
        />
        <motion.path
          d="M269.474 66.3387C266.395 68.1209 266.583 79.2505 272.188 73.5808"
          {...pathProps}
        />
        <motion.path d="M272.098 62.7603L271.099 61.6966" {...pathProps} />
        <motion.path
          d="M272.248 68.2777C276.832 70.5375 281.224 58.2188 278.533 58.2346C272.675 58.2673 271.534 79.6572 280.144 73.1222"
          {...pathProps}
        />
        <motion.path
          d="M286.762 67.9277C288.666 64.0647 284.045 63.696 283.323 66.5575C282.601 69.4192 287.159 70.8051 285.85 73.4615C285.277 74.623 281.971 75.088 281.323 70.8372"
          {...pathProps}
        />
        <motion.path
          d="M247.335 67.7539C246.793 67.7798 250.911 66.965 251.496 66.7887C253.429 66.205 255.354 65.5889 257.302 65.0565"
          {...pathProps}
        />

        {/* arrow */}
        <motion.path
          d="M293.863 91.9734C306.777 94.729 333.211 90.3102 335.629 50.59C338.651 0.939703 401.822 38.2929 420.046 17.7792"
          className="hidden lg:block"
          {...pathProps}
        />
        <motion.path
          d="M410.773 29.9154C413.915 28.0452 420.267 22.9615 420.542 17.5885C417.971 18.7396 411.315 18.6559 405.125 16.8004"
          className="hidden lg:block"
          {...pathProps}
        />

        {/* arrow mobile */}
        <motion.path
          d="M293.666 50.9194C305.532 43.2367 337.708 35.1739 353.91 50.9194C377.341 73.6906 356.718 89.1474 346.192 81.0399C334.047 71.6857 360.834 41.4367 379.24 71.6857C388.245 86.4844 382.055 106.296 373.992 110.023"
          {...pathProps}
          className="lg:hidden"
        />
        <motion.path
          d="M372.3 99.1403C373.827 103.86 373.757 106.898 373.746 110.501C376.403 110.101 380.899 108.737 383.774 105.386"
          {...pathProps}
          className="lg:hidden"
        />
      </motion.g>
    </motion.svg>
  );
}
